# REQUIRE LEAST CMAKE 3.0.2
CMAKE_MINIMUM_REQUIRED(VERSION 3.0.2)

PROJECT(libHDC C CXX)

SET(HDC_ROOT_PROJECT ${CMAKE_SOURCE_DIR})
SET(HDC_CONCRETE_RELATIVE_PATH cmake/Concrete)

LIST(APPEND CMAKE_MODULE_PATH ${HDC_ROOT_PROJECT}/${HDC_CONCRETE_RELATIVE_PATH}/lib)

# common
INCLUDE(Concrete)

# set version
CONCRETE_SET_VERSION(1 1 0)

# init
CONCRETE_INIT(
    ${HDC_ROOT_PROJECT}           # Project Root
    ${HDC_CONCRETE_RELATIVE_PATH} # Concrete relative path
    )

CONCRETE_USE_FOLDERS()

CONCRETE_SET_CONFIG_FILE_PROPERTIES(
    MACRO_PREFIX    HDC             # Macro Prefix
)

CONCRETE_C_CONFIG_OPTION_ENABLE(
    WIN32_SHUT_MIN_MAX TRUE
)

CONCRETE_GEN_C_CONFIG_FILE(
    ${CONCRETE_BUILD_PATH}/HDCConfig.h
)

SET(HDC_SORUCE_DIR 
    ${CONCRETE_PROJECT_SOURCE_DIR}/src
)

SET(HDC_SORUCES_HEADERS
    ${HDC_SORUCE_DIR}/baseboard.h
    ${HDC_SORUCE_DIR}/smbios.h
    ${HDC_SORUCE_DIR}/smbios_table.h
    ${HDC_SORUCE_DIR}/wmi.h
)

SET(HDC_SORUCES_FILES
    ${HDC_SORUCE_DIR}/baseboard.cpp
    ${HDC_SORUCE_DIR}/hw_collect.cpp
    ${HDC_SORUCE_DIR}/smbios.cpp
    ${HDC_SORUCE_DIR}/wmi.cpp
)

CONCRETE_ADD_PROJECT(
    NAME LibHDC
    TYPE "Execute"
    INCLUDE_FILES ${HDC_SORUCES_HEADERS}
    SOURCE_FILES ${HDC_SORUCES_FILES}
)